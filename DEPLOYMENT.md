# ğŸš€ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± - Telegram University Bot v2.1.3

## ğŸ“‹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### 1. Ø­Ø³Ø§Ø¨ Telegram Bot
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ [@BotFather](https://t.me/BotFather) Ø¹Ù„Ù‰ Telegram
2. Ø§ÙƒØªØ¨ `/newbot` Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØª Ø¬Ø¯ÙŠØ¯
3. Ø§Ø®ØªØ± Ø§Ø³Ù… Ù„Ù„Ø¨ÙˆØª (Ù…Ø«Ø§Ù„: "Ø¨ÙˆØª Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¯Ø±Ø¬Ø§Øª")
4. Ø§Ø®ØªØ± username Ù„Ù„Ø¨ÙˆØª (Ù…Ø«Ø§Ù„: `university_grades_bot`)
5. Ø§Ø­ÙØ¸ Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø°ÙŠ Ø³ØªØ­ØµÙ„ Ø¹Ù„ÙŠÙ‡

### 2. Ù…Ø¹Ø±Ù Telegram Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ [@userinfobot](https://t.me/userinfobot)
2. Ø§ÙƒØªØ¨ `/start`
3. Ø§Ø­ÙØ¸ Ù…Ø¹Ø±Ù Telegram Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (Ù…Ø«Ø§Ù„: `123456789`)

## ğŸŒ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Railway

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ GitHub
```bash
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªÙˆØ¯Ø¹ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ GitHub
git init
git add .
git commit -m "Initial commit - Telegram University Bot v2.1.3"
git branch -M main
git remote add origin https://github.com/yourusername/telegram-university-bot.git
git push -u origin main
```

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ø¹Ø¯Ø§Ø¯ Railway
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ [Railway.app](https://railway.app)
2. Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø¨Ø­Ø³Ø§Ø¨ GitHub
3. Ø§Ø¶ØºØ· "New Project"
4. Ø§Ø®ØªØ± "Deploy from GitHub repo"
5. Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ø§Ù„Ø°ÙŠ Ø£Ù†Ø´Ø£ØªÙ‡

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©
ÙÙŠ RailwayØŒ Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Variables" ÙˆØ£Ø¶Ù:

```bash
# Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©
TELEGRAM_TOKEN=your_bot_token_here
ADMIN_ID=your_telegram_id
DATABASE_URL=postgresql://username:password@host:port/database

# Ù…ØªØºÙŠØ±Ø§Øª Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©
ADMIN_USERNAME=@your_username
ADMIN_EMAIL=your_email@example.com
DEBUG_MODE=false
LOG_LEVEL=INFO
```

### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ù†Ø´Ø±
1. Railway Ø³ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„Ø¨Ù†Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
2. Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠÙƒØªÙ…Ù„ Ø§Ù„Ø¨Ù†Ø§Ø¡
3. Ø§Ù„Ø¨ÙˆØª Ø³ÙŠØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

## ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø´Ø±

### Ù…Ù„Ù Procfile
```
web: python main.py
```

### Ù…Ù„Ù requirements.txt
```
python-telegram-bot==20.7
aiohttp==3.9.1
beautifulsoup4==4.12.2
flask==3.0.0
python-dotenv==1.0.0
```

### Ù…Ù„Ù runtime.txt
```
python-3.11.7
```

## ğŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¨ÙˆØª

### ÙØ­Øµ Ø§Ù„ØµØ­Ø©
- **Ø§Ù„Ø±Ø§Ø¨Ø·:** `https://your-app.railway.app/health`
- **Ø§Ù„Ø­Ø§Ù„Ø©:** ÙŠØ¬Ø¨ Ø£Ù† ØªØ¹Ø±Ø¶ `{"status": "healthy"}`

### Ø§Ù„Ø³Ø¬Ù„Ø§Øª
- ÙÙŠ RailwayØŒ Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Deployments"
- Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¢Ø®Ø± deployment
- Ø´Ø§Ù‡Ø¯ "Logs" Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¨ÙˆØª

### Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- Ø§Ø³ØªØ®Ø¯Ù… `/stats` ÙÙŠ Ø§Ù„Ø¨ÙˆØª (Ù„Ù„Ù…Ø·ÙˆØ± ÙÙ‚Ø·)
- Ø´Ø§Ù‡Ø¯ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Railway ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…

## ğŸ› ï¸ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø©

#### 1. Ø§Ù„Ø¨ÙˆØª Ù„Ø§ ÙŠØ³ØªØ¬ÙŠØ¨
```bash
# ØªØ­Ù‚Ù‚ Ù…Ù†:
- ØµØ­Ø© TELEGRAM_TOKEN
- ØµØ­Ø© ADMIN_ID
- Ø³Ø¬Ù„Ø§Øª Railway
```

#### 2. ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
```bash
# ØªØ­Ù‚Ù‚ Ù…Ù†:
- ØµØ­Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©
- Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª
- Ø­Ø§Ù„Ø© API Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©
```

#### 3. ÙØ´Ù„ ÙÙŠ Ø§Ù„Ù†Ø´Ø±
```bash
# ØªØ­Ù‚Ù‚ Ù…Ù†:
- ØµØ­Ø© requirements.txt
- ØµØ­Ø© Python version
- Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙÙŠ Railway
```

### Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ´Ø®ÙŠØµ
```bash
# ÙØ­Øµ Ø§Ù„ØµØ­Ø©
curl https://your-app.railway.app/health

# ÙØ­Øµ Ø§Ù„Ø­Ø§Ù„Ø©
curl https://your-app.railway.app/status

# ÙØ­Øµ Ø§Ù„Ø¬Ø°Ø±
curl https://your-app.railway.app/
```

## ğŸ”„ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª

### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙˆØª
```bash
# ÙÙŠ GitHub
git add .
git commit -m "Update bot"
git push origin main

# Railway Ø³ÙŠÙ‚ÙˆÙ… Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```

### Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª
```bash
# ÙÙŠ Railway
- Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Deployments"
- Ø§Ø¶ØºØ· "Redeploy"
```

## ğŸ“± Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨ÙˆØª

### 1. Ø§Ø®ØªØ¨Ø§Ø± Ø£Ø³Ø§Ø³ÙŠ
```
/start - Ø¨Ø¯Ø¡ Ø§Ù„Ø¨ÙˆØª
/help - Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
```

### 2. Ø§Ø®ØªØ¨Ø§Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
```
/register - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©
```

### 3. Ø§Ø®ØªØ¨Ø§Ø± ÙØ­Øµ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
```
/grades - ÙØ­Øµ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
```

### 4. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø·ÙˆØ±
```
/stats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Ù„Ù„Ù…Ø·ÙˆØ± ÙÙ‚Ø·)
/broadcast - Ø¥Ø´Ø¹Ø§Ø± Ø¹Ø§Ù… (Ù„Ù„Ù…Ø·ÙˆØ± ÙÙ‚Ø·)
```

## ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù†

### Ù†ØµØ§Ø¦Ø­ Ø£Ù…Ù†ÙŠØ©
1. **Ù„Ø§ ØªØ´Ø§Ø±Ùƒ Ø§Ù„ØªÙˆÙƒÙ†** Ù…Ø¹ Ø£ÙŠ Ø´Ø®Øµ
2. **Ø§Ø³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ±Ø§Øª Ø¨ÙŠØ¦ÙŠØ©** Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
3. **Ø±Ø§Ù‚Ø¨ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¨ÙˆØª** Ø¯ÙˆØ±ÙŠØ§Ù‹
4. **Ø§Ø­ØªÙØ¸ Ø¨Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©** Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
5. **Ø­Ø¯Ø« Ø§Ù„Ø¨ÙˆØª** Ø¨Ø§Ù†ØªØ¸Ø§Ù…

### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ù…Ø§Ù†
- Ø±Ø§Ø¬Ø¹ Ø³Ø¬Ù„Ø§Øª Railway Ø¯ÙˆØ±ÙŠØ§Ù‹
- ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¨ÙˆØª
- Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø´Ø¨ÙˆÙ‡Ø©

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

### ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„
1. **ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø³Ø¬Ù„Ø§Øª** ÙÙŠ Railway
2. **Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø¨ÙˆØª** Ù…Ø­Ù„ÙŠØ§Ù‹ Ø£ÙˆÙ„Ø§Ù‹
3. **ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±:**
   - Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: tox098123@gmail.com
   - Telegram: @sisp_t

### Ù…ÙˆØ§Ø±Ø¯ Ù…ÙÙŠØ¯Ø©
- [Railway Documentation](https://docs.railway.app)
- [Python Telegram Bot Documentation](https://python-telegram-bot.readthedocs.io)
- [GitHub Repository](https://github.com/yourusername/telegram-university-bot)

---

ğŸ”” **Ø¨ÙˆØª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©** - Ù†Ø¸Ø§Ù… Ù…ØªÙ‚Ø¯Ù… Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©
ğŸ‘¨â€ğŸ’» Ø§Ù„Ù…Ø·ÙˆØ±: Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù‚Ø§Ø¯Ø± 

# ğŸš‚ Railway Deployment Guide

## ğŸ“‹ Prerequisites

- Railway account
- Telegram Bot Token
- PostgreSQL database (Railway provides this)

## ğŸ—„ï¸ Database Setup

### 1. Create PostgreSQL Database on Railway

1. Go to your Railway project
2. Click "New" â†’ "Database" â†’ "PostgreSQL"
3. Wait for the database to be provisioned
4. Copy the `DATABASE_URL` from the database settings

### 2. Configure Environment Variables

Set these environment variables in your Railway project:

```bash
# Required
TELEGRAM_TOKEN=your_bot_token_here
ADMIN_ID=your_telegram_id
DATABASE_URL=postgresql://username:password@host:port/database

# Optional
ADMIN_USERNAME=@your_username
ADMIN_EMAIL=your_email@example.com
LOG_LEVEL=INFO
```

### 3. Database Migration

The bot will automatically run database migrations on startup. If you need to run them manually:

```bash
python migrations.py
```

## ğŸš€ Deployment Steps

### 1. Connect Your Repository

1. Go to Railway dashboard
2. Click "New Project" â†’ "Deploy from GitHub repo"
3. Select your bot repository
4. Railway will automatically detect it's a Python project

### 2. Configure Build Settings

Railway will automatically:
- Install dependencies from `requirements.txt`
- Use Python 3.11 (specified in `runtime.txt`)
- Run the bot using the command in `Procfile`

### 3. Set Environment Variables

In your Railway project settings, add these environment variables:

| Variable | Description | Example |
|----------|-------------|---------|
| `TELEGRAM_TOKEN` | Your Telegram bot token | `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz` |
| `ADMIN_ID` | Your Telegram user ID | `123456789` |
| `DATABASE_URL` | PostgreSQL connection string | `postgresql://user:pass@host:5432/db` |
| `ADMIN_USERNAME` | Your Telegram username | `@your_username` |
| `ADMIN_EMAIL` | Your email address | `admin@example.com` |
| `LOG_LEVEL` | Logging level | `INFO` |

### 4. Deploy

1. Railway will automatically deploy when you push to your main branch
2. Monitor the deployment logs for any errors
3. Check that the database migration completed successfully

## ğŸ”§ Configuration

### Webhook Setup

The bot automatically configures webhooks for Railway:

```python
webhook_url = f"https://your-app-name.up.railway.app/{TELEGRAM_TOKEN}"
```

### Database Configuration

The bot automatically detects PostgreSQL from the `DATABASE_URL`:

```python
"USE_POSTGRESQL": bool(os.getenv("DATABASE_URL", "").startswith("postgresql"))
```

## ğŸ“Š Monitoring

### Railway Dashboard

- **Deployments**: Monitor deployment status and logs
- **Database**: View database metrics and connection status
- **Logs**: Real-time application logs

### Bot Commands

Use these commands to monitor your bot:

- `/stats` - View bot statistics (admin only)
- `/list_users` - List all users (admin only)

## ğŸ” Troubleshooting

### Common Issues

1. **Database Connection Failed**
   - Check `DATABASE_URL` is correct
   - Ensure database is provisioned and running
   - Check Railway database logs

2. **Webhook Not Working**
   - Verify `TELEGRAM_TOKEN` is correct
   - Check Railway app is accessible
   - Review deployment logs

3. **Migration Errors**
   - Check database permissions
   - Verify `DATABASE_URL` format
   - Review migration logs

### Debug Commands

```bash
# Check database connection
python -c "from storage.models import DatabaseManager; from config import CONFIG; db = DatabaseManager(CONFIG['DATABASE_URL']); print(db.test_connection())"

# Run migrations manually
python migrations.py

# Check database status
python -c "from migrations import check_database_status; check_database_status()"
```

## ğŸ”„ Updates

### Automatic Updates

Railway automatically redeploys when you push to your main branch.

### Manual Updates

1. Push changes to your repository
2. Railway will detect changes and redeploy
3. Monitor deployment logs
4. Verify bot functionality

## ğŸ“ˆ Scaling

### Railway Auto-Scaling

Railway automatically scales your application based on traffic.

### Database Scaling

- Railway PostgreSQL automatically handles scaling
- No additional configuration needed
- Monitor database usage in Railway dashboard

## ğŸ”’ Security

### Environment Variables

- Never commit sensitive data to your repository
- Use Railway's environment variable system
- Rotate tokens regularly

### Database Security

- Railway PostgreSQL includes SSL encryption
- Automatic backups enabled
- Access controlled by Railway

## ğŸ“ Support

### Railway Support

- Railway documentation: https://docs.railway.app/
- Railway Discord: https://discord.gg/railway

### Bot Support

- Check logs in Railway dashboard
- Use bot admin commands for diagnostics
- Contact bot developer for issues

## ğŸ¯ Best Practices

1. **Environment Variables**: Always use environment variables for sensitive data
2. **Logging**: Monitor logs regularly for issues
3. **Backups**: Railway handles database backups automatically
4. **Testing**: Test changes locally before deploying
5. **Monitoring**: Use Railway's monitoring tools

## ğŸ“ Notes

- Railway provides persistent storage for PostgreSQL
- Webhooks are automatically configured
- Database migrations run on startup
- Logs are available in Railway dashboard
- Environment variables are encrypted and secure 